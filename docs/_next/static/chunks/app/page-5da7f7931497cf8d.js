(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{974:function(e,t,a){Promise.resolve().then(a.bind(a,2365))},3899:function(){},2365:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Home}});var n=a(7437);a(6691);var s=a(8518),l=a.n(s),c=a(7707);a(3899);var o=a(2265),r=a(1396),i=a.n(r);a(5180);var app_EffectToggle=e=>{let{id:t,label:a,trueBypass:s,setTrueBypass:l,checked:c,change:r,...i}=e,[u,f]=(0,o.useState)(!1);return(0,n.jsxs)("div",{className:"checkbox-wrapper",children:[(0,n.jsx)("input",{type:"checkbox",name:t,id:t,checked:u,onChange:()=>{console.log("value: ".concat(u)),f(e=>!e),l(!u),r(!u)},className:u?"checked":"",...i}),(0,n.jsx)("div",{className:"track",onClick:()=>{f(e=>!e)}}),(0,n.jsx)("label",{htmlFor:t,children:a})]})};a(5657);var app_EffectValue=e=>{let{id:t,label:a,trueBypass:s,setTrueBypass:l,defaultValue:c,change:r,min:i,max:u,strict:f,...g}=e,[p,d]=(0,o.useState)(c),[h,m]=(0,o.useState)(i),[v,x]=(0,o.useState)(u),b=!!f&&f[0],_=!!f&&f[1];return(0,n.jsxs)("div",{className:"range-wrapper container center-block",children:[(0,n.jsxs)("span",{className:"text-center center-block",children:[(0,n.jsxs)("label",{htmlFor:t,children:[a,":\xa0"]}),(0,n.jsx)("input",{type:"number",value:p,onInput:e=>{s&&(e.target.value||(e.target.value=0),d(e.target.value),l(e.target.value),r(e.target.value))}})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"center-block text-center",children:[(0,n.jsx)("input",{type:"number",className:"min",disabled:b,value:h,onInput:e=>{b||(console.log(e.target.value>u),!(e.target.value>u)&&(m(e.target.value),p<e.target.value&&(d(e.target.value),r(e.target.value))))}}),(0,n.jsx)("input",{type:"range",step:"0.01",min:h,max:v,name:t,id:t,value:p,onChange:e=>{s&&(d(e.target.value),l(e.target.value),r(e.target.value))},...g}),(0,n.jsx)("input",{type:"number",className:"max",disabled:_,value:v,onInput:e=>{_||e.target.value<i||(x(e.target.value),p>e.target.value&&(d(e.target.value),r(e.target.value)))}})]})]})};function Home(e){let[t,a]=(0,o.useState)(),[s,r]=(0,o.useState)(),[u,f]=(0,o.useState)(!1),[g,p]=(0,o.useState)(),[d,h]=(0,o.useState)(!1),[m,v]=(0,o.useState)(),[x,b]=(0,o.useState)(!1),[_,y]=(0,o.useState)(),[E,j]=(0,o.useState)(!1),[w,V]=(0,o.useState)(),[B,N]=(0,o.useState)(!1),[T,D]=(0,o.useState)(),[k,S]=(0,o.useState)(!1),C=[[s,u],[g,d],[m,x],[_,E],[w,B],[T,k]];function toggleEffect(e,a){if(t.open(),c.BL(),e)console.log("triggered"),t.connect(a).toDestination();else{console.log("disconnected");let e=[...C.filter(e=>e[1])].map(e=>e[0]);console.log(e),console.log(e=e.filter(e=>e!=a)),t.disconnect().chain(...[...e]).toDestination()}}function changeEffectVal(e,a){t.open(),c.BL();let n=e.toDestination(),s=[...C.filter(e=>e[1])].map(e=>e[0]);console.log(s),console.log(s=s.filter(e=>e!=a)),t.disconnect().chain(...[...s,n]).toDestination()}return(0,o.useEffect)(()=>{a(new c.Xv().toDestination()),r(new c.df(10).toDestination()),p(new c.S9(250).toDestination()),v(new c.MH(8).toDestination()),y(new c.bK(4,2.5,1).toDestination().start()),V(new c.wm("8n",.8).toDestination()),D(new c.E8(30).toDestination())},[]),(0,o.useEffect)(()=>{typeof m==c.MH&&(m.wet.value=1)},[m]),(0,n.jsxs)("main",{className:l().main,children:[(0,n.jsx)(i(),{href:"/settings",children:"To settings"}),(0,n.jsxs)("div",{className:l().description,children:["Simple guitar amp based on ",(0,n.jsx)("a",{href:"https://tonejs.github.io/",target:"blank",children:"tone js"})]}),(0,n.jsx)("button",{id:"mic",onClick:function(){c.BL(),t.open()},children:"Allow mic context"}),(0,n.jsxs)("div",{className:"center-block container",children:[(0,n.jsx)("h2",{className:"text-center",children:"Effects:"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)(app_EffectToggle,{label:"Distortion",id:"distortion",checked:!1,change:function(e){console.log(e),f(e),toggleEffect(e,s)},trueBypass:u,setTrueBypass:f}),(0,n.jsx)(app_EffectValue,{label:"DistortionValue",id:"distortionvalue",defaultValue:10,change:function(e){console.log("changed to ".concat(e,"!")),r(new c.df(e).toDestination()),changeEffectVal(new c.df(e),s)},min:0,max:1e4,trueBypass:u,setTrueBypass:f})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)(app_EffectToggle,{label:"Gain",id:"gain",checked:!1,change:function(e){h(e),toggleEffect(e,g)},trueBypass:d,setTrueBypass:h}),(0,n.jsx)(app_EffectValue,{label:"GainValue",id:"gainvalue",defaultValue:250,change:function(e){console.log("changed to ".concat(e,"!")),p(new c.S9(e).toDestination()),changeEffectVal(new c.S9(e),g)},min:0,max:34028234663852886e22.fromExponent(),trueBypass:d,setTrueBypass:h})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)(app_EffectToggle,{label:"Bitcrusher",id:"bitcrusher",checked:!1,change:function(e){b(e),toggleEffect(e,m)},trueBypass:x,setTrueBypass:b}),(0,n.jsx)(app_EffectValue,{label:"BitcrusherValue",id:"bitcrushervalue",defaultValue:10,change:function(e){let t=new c.MH(e).toDestination();m.wet.value=1,v(t),changeEffectVal(t)},min:1,max:16,trueBypass:x,setTrueBypass:b,strict:[1,1]})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)(app_EffectToggle,{label:"Chorus",id:"chorus",checked:!1,change:function(e){console.log(e),j(e),toggleEffect(e,_)},trueBypass:E,setTrueBypass:j}),(0,n.jsx)(app_EffectValue,{label:"ChorusFrequencyValue",id:"chorusvalue",defaultValue:4,change:function(e){console.log("changed!"),y(new c.bK(e,_.delayTime,_.depth).toDestination().start()),changeEffectVal(new c.bK(e,_.delayTime,_.depth).start(),_)},min:0,max:15,trueBypass:E,setTrueBypass:j}),(0,n.jsx)(app_EffectValue,{label:"ChorusDelayTimeValue",id:"chorusvalue",defaultValue:100,change:function(e){console.log("changed!"),y(new c.bK(_.frequency.value,e,_.depth).toDestination().start()),changeEffectVal(new c.bK(_.frequency.value,e,_.depth).start(),_)},min:0,max:250,trueBypass:E,setTrueBypass:j}),(0,n.jsx)(app_EffectValue,{label:"ChorusDepthValue",id:"chorusvalue",defaultValue:.2,change:function(e){console.log("changed!"),y(new c.bK(_.frequency.value,_.delayTime,e).toDestination().start()),changeEffectVal(new c.bK(_.frequency.value,_.delayTime,e).start(),_)},min:0,max:1,trueBypass:E,setTrueBypass:j,strict:[1,1]})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)(app_EffectToggle,{label:"Delay",id:"delay",checked:!1,change:function(e){N(e),toggleEffect(e,w)},trueBypass:B,setTrueBypass:N}),(0,n.jsx)(app_EffectValue,{label:"DelayValue",id:"delay",defaultValue:.1,change:function(e){console.log("changed!"),V(new c.wm("8n",e).toDestination()),changeEffectVal(new c.wm("8n",e),w)},min:0,max:1,trueBypass:B,setTrueBypass:N})]}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)(app_EffectToggle,{label:"Reverb",id:"reverb",checked:!1,change:function(e){S(e),toggleEffect(e,T)},trueBypass:k,setTrueBypass:S}),(0,n.jsx)("span",{children:"*values above 150 requires a lot of memory, setting this above 150 may cause browser to crash"}),(0,n.jsx)(app_EffectValue,{label:"ReverbValue",id:"reverb",defaultValue:30,change:function(e){console.log("changed!"),console.log(Number(e)),D(new c.E8(Number(e)).toDestination()),changeEffectVal(new c.E8(Number(e)),T)},min:0,max:30,trueBypass:k,setTrueBypass:S})]})]})]})}Number.prototype.fromExponent=function(){var e=String(this).split(/[eE]/);if(1==e.length)return e[0];var t="",a=e[0].replace(".",""),n=Number(e[1])+1;if(n<0){for(t=(this<0?"-":"")+"0.";n++;)t+="0";return t+a.replace(/^\-/,"")}for(n-=a.length;n--;)t+="0";return a+t}},5180:function(){},8518:function(e){e.exports={main:"page_main__nw1Wk",description:"page_description__lvaOp",code:"page_code__9AfUJ",grid:"page_grid__JZ9Cz",card:"page_card__Cf__u",center:"page_center__NcdcW",logo:"page_logo__ikIZE",content:"page_content___38fW",vercelLogo:"page_vercelLogo__YYFl1",rotate:"page_rotate__xIioM"}}},function(e){e.O(0,[738,360,971,864,744],function(){return e(e.s=974)}),_N_E=e.O()}]);