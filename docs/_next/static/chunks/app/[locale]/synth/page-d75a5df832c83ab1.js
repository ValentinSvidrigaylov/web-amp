(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{2571:function(e,t,r){Promise.resolve().then(r.bind(r,780))},780:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Inner}});var n=r(599),o=r(116),i=r(8518),a=r.n(i),s=r(5742),c=r(2265),l=r(9691);r(9618);var u=r(7437);function Inner(){var e,t,r,i,d=(0,o.useTranslations)("SynthPage"),f=(0,c.useState)(),p=f[0],h=f[1],m=(0,c.useState)(),g=m[0],v=m[1],y=(0,c.useState)(function(){return function(){}}),b=y[0],w=y[1],A=(0,c.useState)(function(){return function(){}}),k=A[0],x=A[1],N=(0,c.useState)(0);N[0],N[1];var _=(0,c.useState)(0);_[0],_[1];var S=0;s.Do.lookAhead=0;var O=[0,2,1,4,3,5,7,6,9,8,11,10];function increaseOctave(){var e=Number(localStorage.getItem("octave"))||3;e+S>=7||h(e+1)}function decreaseOctave(){var e=Number(localStorage.getItem("octave"))||3;e<1||h(e-1)}return(0,c.useEffect)(function(){s.BL();var o=new s.Z4({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:"./samples/piano/"}).toDestination();return document.getElementById("keysValue"),document.getElementById("octaveValue"),t=(e=JSON.parse(localStorage.getItem("notes"))||(localStorage.setItem("notes",JSON.stringify(["C","D","C#","E","D#","F","G","F#","A","G#","B","A#"])),["C","D","C#","E","D#","F","G","F#","A","G#","B","A#"])).filter(function(e){return!e.includes("#")}),e.filter(function(e){return e.includes("#")}),r=document.querySelector("div#synth"),x(function(){return function(e){}}),w(function(){return function(a,c,u){switch(s.BL(),void 0!=u&&(r.innerHTML="",i=null),u){case"piano":o=new s.Z4({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:"./samples/piano/"}).toDestination().toDestination(),S=0,(i=document.createElementNS("http://www.w3.org/2000/svg","svg")).id="synthsvg";for(var d=0;d<c;d++)!function(r){var c=void 0;e[r%12].includes("#")?((c=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("width",35),c.setAttribute("height",180),c.setAttribute("stroke","black"),c.setAttribute("stroke-width",2.5),c.setAttribute("fill","black"),c.classList.add("semi-tone"),c.setAttribute("x",385*S+55*e.slice(0,e.indexOf(e[O[r%12]])).filter(function(e){return!e.includes("#")}).length-17.5+1.25)):((c=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("width",55),c.setAttribute("height",280),c.setAttribute("stroke","black"),c.setAttribute("stroke-width",2.5),c.setAttribute("fill","white"),c.classList.add("tone"),c.setAttribute("rx",10),c.setAttribute("x",385*S+55*t.indexOf(e[r%12])+1.25)),c.setAttribute("y",1.25),i.appendChild(c);var l=S;a=Number(a),c.onmousedown=function(t){t.stopPropagation(),void 0==c.getAttribute("isPressed")&&(c.setAttribute("isPressed",""),o.triggerAttack("".concat(e[(0,n.Z)(i.children).indexOf(c)-12*l])+"".concat(a+l),s.Do.currentTime),i.children[(0,n.Z)(i.children).indexOf(c)].style.transform="rotateX(15deg)")},c.onmouseup=function(t){t.stopPropagation(),void 0!=c.getAttribute("isPressed")&&(c.removeAttribute("isPressed"),o.triggerRelease("".concat(e[(0,n.Z)(i.children).indexOf(c)-12*l])+"".concat(a+l),s.Do.currentTime),i.children[(0,n.Z)(i.children).indexOf(c)].style.transform="")},c.onmouseleave=function(t){t.stopPropagation(),o.triggerRelease("".concat(e[(0,n.Z)(i.children).indexOf(c)-12*l])+"".concat(a+l),s.Do.currentTime),i.children[(0,n.Z)(i.children).indexOf(c)].style.transform=""},c.ontouchstart=function(e){e.stopPropagation(),e.preventDefault(),c.onmousedown(e)},c.ontouchend=c.ontouchcancel=function(e){e.stopPropagation(),e.preventDefault(),c.onmouseup(e)},(r+1)%12==0&&0!=r&&S++}(d);i.setAttribute("viewBox","0 0 ".concat(55*(0,n.Z)(i.children).filter(function(e){return e.classList.contains("tone")}).length+5," ").concat(285)),r.appendChild(i),window.onkeydown=function(e){var t=JSON.parse(localStorage.getItem("octavechangekeys"))||[];if((0,l.d)(t,e.key.toLowerCase()).length>0)e.key.toLowerCase()==t[0]?increaseOctave():decreaseOctave();else{e.stopPropagation();var r=JSON.parse(localStorage.getItem("keys"))||(localStorage.setItem("keys",JSON.stringify(["q","w","e","r","t","y","u","i","o","p","[","]"])),["q","w","e","r","t","y","u","i","o","p","[","]"]),n=(0,l.d)(r,e.key.toLowerCase());if(void 0!=n)for(var o=0;o<n.length;o++){var a=Number(n[o])-Number(n[o])%12+O[n[o]%12];i.children[a].dispatchEvent(new Event("mousedown"))}}},window.onkeyup=function(e){e.stopPropagation();var t=JSON.parse(localStorage.getItem("keys"))||(localStorage.setItem("keys",JSON.stringify(["q","w","e","r","t","y","u","i","o","p","[","]"])),JSON.stringify(["q","w","e","r","t","y","u","i","o","p","[","]"])),r=(0,l.d)(t,e.key.toLowerCase());if(void 0!=r)for(var n=0;n<r.length;n++){var o=Number(r[n])-Number(r[n])%12+O[r[n]%12];i.children[o].dispatchEvent(new Event("mouseup")),i.children[o].style.transform=""}};break;case"drums":o=new s.Z4({urls:{F3:"F3.wav",G3:"G3.wav",A3:"A3.wav",B3:"B3.wav",C4:"C4.wav",D4:"D4.wav",F4:"F4.wav","F#4":"Fs4.wav",G4:"G4.wav",C5:"C5.wav",A5:"A5.wav"},release:1,baseUrl:"./samples/drums/"}).toDestination().toDestination(),S=0,(i=document.createElementNS("http://www.w3.org/2000/svg","svg")).id="synthsvg";for(var f=0;f<c;f++)!function(r){var c=void 0;e[r%12].includes("#")?((c=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("width",35),c.setAttribute("height",180),c.setAttribute("stroke","black"),c.setAttribute("stroke-width",2.5),c.setAttribute("fill","black"),c.classList.add("semi-tone"),c.setAttribute("x",385*S+55*e.slice(0,e.indexOf(e[O[r%12]])).filter(function(e){return!e.includes("#")}).length-17.5+1.25)):((c=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("width",55),c.setAttribute("height",280),c.setAttribute("stroke","black"),c.setAttribute("stroke-width",2.5),c.setAttribute("fill","white"),c.classList.add("tone"),c.setAttribute("rx",10),c.setAttribute("x",385*S+55*t.indexOf(e[r%12])+1.25)),c.setAttribute("y",1.25),i.appendChild(c);var l=S;a=Number(a),c.onmousedown=function(t){t.stopPropagation(),void 0==c.getAttribute("isPressed")&&(c.setAttribute("isPressed",""),o.triggerAttack("".concat(e[(0,n.Z)(i.children).indexOf(c)-12*l])+"".concat(a+l),s.Do.currentTime),i.children[(0,n.Z)(i.children).indexOf(c)].style.transform="rotateX(15deg)")},c.onmouseup=function(t){t.stopPropagation(),void 0!=c.getAttribute("isPressed")&&(c.removeAttribute("isPressed"),o.triggerRelease("".concat(e[(0,n.Z)(i.children).indexOf(c)-12*l])+"".concat(a+l),s.Do.currentTime),i.children[(0,n.Z)(i.children).indexOf(c)].style.transform="")},c.onmouseleave=function(t){t.stopPropagation(),o.triggerRelease("".concat(e[(0,n.Z)(i.children).indexOf(c)-12*l])+"".concat(a+l),s.Do.currentTime),i.children[(0,n.Z)(i.children).indexOf(c)].style.transform=""},c.ontouchstart=function(e){e.stopPropagation(),e.preventDefault(),c.onmousedown(e)},c.ontouchend=c.ontouchcancel=function(e){e.stopPropagation(),e.preventDefault(),c.onmouseup(e)},(r+1)%12==0&&0!=r&&S++}(f);i.setAttribute("viewBox","0 0 ".concat(55*(0,n.Z)(i.children).filter(function(e){return e.classList.contains("tone")}).length+5," ").concat(285)),r.appendChild(i),window.onkeydown=function(e){var t=JSON.parse(localStorage.getItem("octavechangekeys"))||[];if((0,l.d)(t,e.key.toLowerCase()).length>0)e.key.toLowerCase()==t[0]?increaseOctave():decreaseOctave();else{e.stopPropagation();var r=JSON.parse(localStorage.getItem("keys"))||(localStorage.setItem("keys",JSON.stringify(["q","w","e","r","t","y","u","i","o","p","[","]"])),["q","w","e","r","t","y","u","i","o","p","[","]"]),n=(0,l.d)(r,e.key.toLowerCase());if(void 0!=n)for(var o=0;o<n.length;o++){var a=Number(n[o])-Number(n[o])%12+O[n[o]%12];i.children[a].dispatchEvent(new Event("mousedown"))}}},window.onkeyup=function(e){e.stopPropagation();var t=JSON.parse(localStorage.getItem("keys"))||(localStorage.setItem("keys",JSON.stringify(["q","w","e","r","t","y","u","i","o","p","[","]"])),JSON.stringify(["q","w","e","r","t","y","u","i","o","p","[","]"])),r=(0,l.d)(t,e.key.toLowerCase());if(void 0!=r)for(var n=0;n<r.length;n++){var o=Number(r[n])-Number(r[n])%12+O[r[n]%12];i.children[o].dispatchEvent(new Event("mouseup")),i.children[o].style.transform=""}}}}}),localStorage&&(h(Number(localStorage.getItem("octave"))||3),v(Number(localStorage.getItem("keysLength"))||12)),function(){window.onkeydown=null,window.onkeyup=null,o.releaseAll(0)}},[]),(0,c.useEffect)(function(){void 0!=p&&void 0!=b&&(localStorage.setItem("octave",p),b(p,g,"piano"))},[p]),(0,c.useEffect)(function(){void 0!=g&&void 0!=b&&(localStorage.setItem("keysLength",g),k(p),b(p,g,"piano"))},[g]),(0,c.useEffect)(function(){b(p,g)},[b]),(0,u.jsxs)("main",{className:a().main,children:[(0,u.jsx)("div",{className:[a().description,"center-block text-center m-2"],style:{lineHeight:"3rem"},children:(0,u.jsxs)("span",{children:[d("page_description"),(0,u.jsx)("h5",{children:(0,u.jsx)("a",{href:"https://tonejs.github.io/",target:"blank",children:"tone js"})})]})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:d("presets_label")}),"\xa0",(0,u.jsxs)("select",{name:"presets",id:"presets",onChangeCapture:function(e){b(localStorage.getItem("octave")||3,localStorage.getItem("keysLength")||12,e.target.value)},children:[(0,u.jsx)("option",{value:"piano",children:d("presets_piano")}),(0,u.jsx)("option",{value:"drums",children:d("presets_drums")})]}),(0,u.jsx)("br",{}),(0,u.jsx)("span",{className:a().description,children:d("presets_hint")})]}),(0,u.jsxs)("div",{className:"center-block container",children:[(0,u.jsxs)("h2",{id:"octaveValue",className:"text-center",children:[d("leastoctave_label"),": ",p]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col",children:(0,u.jsxs)("button",{id:"octave+",className:"center-block",onClick:increaseOctave,children:[d("octave_label"),"+"]})}),(0,u.jsx)("div",{className:"col",children:(0,u.jsxs)("button",{id:"octave-",className:"center-block",onClick:decreaseOctave,children:[d("octave_label"),"-"]})})]})]}),(0,u.jsxs)("div",{className:"center-block container",children:[(0,u.jsxs)("h2",{id:"keysValue",className:"text-center",children:[d("keys_label"),": ",g]}),(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col",children:(0,u.jsx)("button",{id:"key+",className:"center-block",onClick:function(){g>=48||v(g+1)},children:d("addkey_label")})}),(0,u.jsx)("div",{className:"col",children:(0,u.jsx)("button",{id:"key-",className:"center-block",onClick:function(){g<1||v(g-1)},children:d("removekey_label")})})]})]}),(0,u.jsx)("div",{id:"synth"})]})}},9691:function(e,t,r){"use strict";r.d(t,{d:function(){return getKeysByValue}});var n=r(599);function getKeysByValue(e,t){return Object.keys(e).filter(function(r){return e[r]===t}).map(function(e){return Number(e)})}Array.prototype.move=function(e,t){this.splice(t,0,this.splice(e,1)[0])},Array.prototype.toMoved=function(e,t){var r=(0,n.Z)(this);return r.splice(t,0,r.splice(e,1)[0]),r},Array.prototype.insert=function(e,t){this.splice(t,0,e)},Array.prototype.equals,Array.prototype.equals=function(e){if(!e)return!1;if(e===this)return!0;if(this.length!=e.length)return!1;for(var t=0,r=this.length;t<r;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1}),Number.prototype.fromExponent=function(){var e=String(this).split(/[eE]/);if(1==e.length)return e[0];var t="",r=e[0].replace(".",""),n=Number(e[1])+1;if(n<0){for(t=(this<0?"-":"")+"0.";n++;)t+="0";return t+r.replace(/^\-/,"")}for(n-=r.length;n--;)t+="0";return r+t},Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)}},9618:function(){},8518:function(e){e.exports={main:"page_main__nw1Wk",description:"page_description__lvaOp",code:"page_code__9AfUJ",grid:"page_grid__JZ9Cz",card:"page_card__Cf__u",center:"page_center__NcdcW",logo:"page_logo__ikIZE",content:"page_content___38fW",vercelLogo:"page_vercelLogo__YYFl1",rotate:"page_rotate__xIioM"}},599:function(e,t,r){"use strict";function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _toConsumableArray(e){return function(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,{Z:function(){return _toConsumableArray}})}},function(e){e.O(0,[735,742,971,650,744],function(){return e(e.s=2571)}),_N_E=e.O()}]);